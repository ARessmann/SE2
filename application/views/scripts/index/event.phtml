<!-- 
	show a list of events it is possible to create, modify or delete one
	it is also possible to set a listfilter
	
	Andreas Ressmann
	31.03.2014
 -->
<?php echo $this->partial('_partials/adminmenu.phtml', array('action' => $this->action,'menuOptions' => $this->menuOptions)); ?>
    
<div class="span9">
	<h3>Eventliste</h3>
	<br>
	<div class="row-fluid">
	    <div class="input-prepend pull-left">
	    	<span class="add-on"><i class="icon-plus-sign"></i></span>
	        	<a id="event-add" href="#!" onclick="javascript:editModal(null, 'event');" class="btn">Neuen Event anlegen</a>
		</div>
	            
	    <div class="control-group pull-right">
	    	<div class="input-prepend">
	        	<span class="add-on"><i class="icon-eye-open"></i></span>
	            <input type="text" id="search_field" name="search_field" value="<?= $this->filter; ?>" placeholder="alle Events anzeigen" />
	            <a id="search_btn" href="#!" onclick="javascript:search('event');" class="btn">Suchen</a>
	        </div>
	    </div>
	</div>
        
    <form id="action_frm" action="event">
    	<input type="hidden" id="filter" name="filter" value="" />
        <div class="row-fluid">
	        <div class="span12">
	                    
		        <div class="grid-head">
		        	<i class="icon-tasks"></i> Events
		            <span class="label label-important pull-right"><?= $this->counter ?></span>
		       	</div>
		        
		        <table class="table table-condensed table-bordered table-striped" id="event-table">
					<thead>
		            	<tr>
		                	<th width="37px" class="grid-caption"></th>
		                    <th class="grid-caption">Titel</th>
		                    <th class="grid-caption">Von</th>
		                    <th class="grid-caption">Bis</th>
		                   	<th class="grid-caption">Beschreibung</th>
						</tr>
		           	</thead>
		       		<tbody>
		       			<?php foreach ($this->events as $event) { ?>
                            
                                <tr class="user-row">
                                    <td class="warning">
                                        <i view-name="event" data-id="<?= $event->getId (); ?>" title="Event bearbeiten" class="icon-edit"></i>&nbsp;
                                        <i view-name="event" data-id="<?= $event->getId (); ?>" title="Event deaktivieren" class="icon-ban-circle">
                                    </td>
                                    <td><?= $event->getTitle (); ?></td>
                                    <td><?= $event->getDateFrom (); ?></td>
                                    <td><?= $event->getDateTo (); ?></td>
                                    <td><?= $event->getDescription (); ?></td>
                                </tr>
                            
           				<?php } ?>
				    </tbody>
				</table>
			</div>
		</div>
	</form>
</div>
